<import src="/pages/shops/shop/c/Buy.vue.wxml" /><template name="1809aa18"><view class="_view data-v-31e90086 weui-cells q-cart"><view class="_view data-v-31e90086 q-title weui-cell"><view wx:if="{{shopsArr.length}}" class="_p data-v-31e90086">购物车</view><view wx:if="{{shopsArr.length}}" class="_p data-v-31e90086">共选择了{{ shopNum }}件商品</view></view><view class="_view data-v-31e90086 q-body"><view class="_view data-v-31e90086 q-shops"><block wx:key="findex" key="{{findex}}" wx:for="{{shopsArr}}" wx:for-index="findex" wx:for-item="shops"><view class="_view data-v-31e90086 q-shop"><view class="_view data-v-31e90086 weui-cell q-shop-title"><radio bindtap="handleProxy" class="_radio data-v-31e90086 q-radio" value="{{shops.shops}}" checked="{{shopChecked[findex].value}}" data-findex="findex" color="purple" data-eventid="{{'1809aa18-0-'+findex}}" data-comkey="{{$k}}" /><view class="_view data-v-31e90086 weui-cell__bd q-shopname">{{ shops.shops }}</view><view class="_view data-v-31e90086 weui-cell-ft"><navigator url="{{'../shops/shops?shops=' + shops.shops + '&area=' + shops.area}}" class="_navigator data-v-31e90086 weui-cell weui-cell_access q-nav" hover-class="weui-cell_active"><view class="_view data-v-31e90086 q-more">进入店铺</view><view class="_view data-v-31e90086 weui-cell__ft weui-cell__ft_in-access"></view></navigator></view></view><block wx:key="index" key="{{index}}" wx:for="{{shops.shop}}" wx:for-index="index" wx:for-item="shop"><view class="_view data-v-31e90086 weui-cell q-shop-goods"><radio class="_radio data-v-31e90086 q-radio" value="{{shop.name}}" data-index="index" data-findex="findex" bindtap="handleProxy" data-id="shops._id" color="purple" checked="{{shopChecked[findex].shopList[index]}}" data-eventid="{{'1809aa18-1-'+findex+'-'+index}}" data-comkey="{{$k}}" /><image class="_img data-v-31e90086 q-img" src="{{shop.imgs}}" data-id="shop.id" bindtap="handleProxy" data-eventid="{{'1809aa18-2-'+findex+'-'+index}}" data-comkey="{{$k}}"></image><view class="_view data-v-31e90086 weui-cell-bd q-info"><view data-id="shop.id" bindtap="handleProxy" data-eventid="{{'1809aa18-3-'+findex+'-'+index}}" data-comkey="{{$k}}" class="_view data-v-31e90086"><view class="_p data-v-31e90086 q-name">{{ shop.name }}</view><view class="_p data-v-31e90086 q-type">{{ shop.sizes }} {{ shop.types }}</view></view><view class="_view data-v-31e90086 q-pricenum"><view class="_p data-v-31e90086 q-price">{{ shop.price  * shop.num | formatNum }}元</view><view class="_view data-v-31e90086 q-bottom"><label class="_label data-v-31e90086 q-btn-num" bindtap="handleProxy" data-index="index" data-choose="'down'" data-shops="shops.shops" data-id="shops._id" data-eventid="{{'1809aa18-4-'+findex+'-'+index}}" data-comkey="{{$k}}">-</label><input class="_input data-v-31e90086 q-num" type="number" value="{{shop.num}}" bindinput="handleProxy" data-index="index" data-choose="'input'" data-shops="shops.shops" data-id="shops._id" data-eventid="{{'1809aa18-5-'+findex+'-'+index}}" data-comkey="{{$k}}" /><label class="_label data-v-31e90086 q-btn-num" bindtap="handleProxy" data-index="index" data-choose="up" data-shops="shops.shops" data-id="shops._id" data-eventid="{{'1809aa18-6-'+findex+'-'+index}}" data-comkey="{{$k}}">+</label></view></view><button size="mini" class="_button data-v-31e90086 q-btn-del" data-index="index" data-shops="shops.shops" data-id="shops._id" bindtap="handleProxy" data-eventid="{{'1809aa18-7-'+findex+'-'+index}}" data-comkey="{{$k}}">删除</button><button size="mini" class="_button data-v-31e90086 q-btn-buy" bindtap="handleProxy" data-index="index" data-findex="findex" data-eventid="{{'1809aa18-8-'+findex+'-'+index}}" data-comkey="{{$k}}">购买</button></view></view></block></view></block></view><template hidden="{{!(showBuy)}}" bindcancelEvent="handleProxy" bindconfirmEvent="handleProxy" data-eventid="{{'1809aa18-9'}}" data-comkey="{{$k}}" data="{{...$root['0'], ...$root[$kk+'1809aa18-0'],$root}}" is="8492b14c"></template><view class="_view data-v-31e90086 q-all" wx:if="{{shopsArr.length}}"><view class="_view data-v-31e90086 q-left" bindtap="handleProxy" data-eventid="{{'1809aa18-10'}}" data-comkey="{{$k}}"><radio class="_radio data-v-31e90086 q-radio" value="" color="purple" checked="{{allCheck}}" /><text class="_text data-v-31e90086 q-text" wx:if="{{!allCheck}}">全选</text><text class="_text data-v-31e90086 q-text" wx:else>反选</text></view><view class="_view data-v-31e90086 q-right"><view class="_view data-v-31e90086 q-text">共计:<text class="_text data-v-31e90086 q-total">{{ tatolPrice | formatNum }}元</text></view><button size="mini" class="_button data-v-31e90086 q-btn-account" bindtap="handleProxy" data-eventid="{{'1809aa18-11'}}" data-comkey="{{$k}}">结算</button></view></view><view wx:else class="_view data-v-31e90086 q-empty">{{ empty }}</view></view></view></template>