(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/video/video"],{"111b":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"camera-container"},[a("camera",{staticClass:"camera-view",attrs:{"device-position":t.devicePosition,flash:t.flash,eventid:"47c563ab-0",mpcomid:"47c563ab-0"},on:{error:t.cameraError,stop:t.cameraStop}}),a("view",{staticClass:"content-view"},[a("view",{staticClass:"camera-property-view"},[a("view",{staticClass:"devive-flash-view"},[a("text",[t._v("闪光灯")]),a("radio-group",{staticClass:"device-position-radio",attrs:{eventid:"47c563ab-1",mpcomid:"47c563ab-1"},on:{change:t.flashRadioChange}},t._l(t.flashs,function(e,i){return a("label",{key:i,staticClass:"radio"},[a("radio",{attrs:{color:"purple",value:e.value,checked:e.checked}},[t._v(t._s(e.name))])],1)}))],1),a("view",{staticClass:"devive-position-view"},[a("text",[t._v("摄像头")]),a("radio-group",{staticClass:"device-position-radio",attrs:{eventid:"47c563ab-2",mpcomid:"47c563ab-2"},on:{change:t.deviceRadioChange}},t._l(t.devicePositions,function(e,i){return a("label",{key:i,staticClass:"radio"},[a("radio",{attrs:{color:"purple",value:e.value,checked:e.checked}},[t._v(t._s(e.name))])],1)}))],1),a("view",{staticClass:"devive-module-view"},[a("text",[t._v("模 式")]),a("radio-group",{staticClass:"device-position-radio",attrs:{eventid:"47c563ab-3",mpcomid:"47c563ab-3"},on:{change:t.moduleRadioChange}},[a("radio",{attrs:{color:"purple",value:"pic",checked:t.isTakePhoto}},[t._v("拍照")]),a("radio",{attrs:{color:"purple",value:"video",checked:!t.isTakePhoto}},[t._v("录制")])],1)],1)]),a("view",{staticClass:"camera-action-view"},[t.isTakePhoto?a("block",[a("view",{staticClass:"main-button main-photo-button",attrs:{"hover-class":"hover-photo-button",eventid:"47c563ab-4"},on:{tap:t.takePhoto}},[t._v("拍照")])]):a("block",[0==t.recordState?a("view",{staticClass:"main-button main-photo-button",attrs:{"hover-class":"hover-photo-button",eventid:"47c563ab-5"},on:{tap:t.recordVideo}},[t._v("录制")]):t._e(),1==t.recordState?a("view",{staticClass:"main-button main-record-video",attrs:{eventid:"47c563ab-6"},on:{tap:t.stopRecord}},[t._v("录制中")]):t._e(),2==t.recordState?a("view",{staticClass:"main-button main-photo-button",attrs:{eventid:"47c563ab-7"},on:{tap:t.recordVideo}},[t._v("录制完成")]):t._e()])],1)]),t._m(0),a("scroll-view",{staticClass:"preview-view",attrs:{"scroll-x":!0,"scroll-into-view":t.toView}},t._l(t.dataList,function(e,i){return a("block",{key:i},[a("view",{staticClass:"q-thumb"},[a("image",{staticClass:"image-list",attrs:{id:t.image[i],src:e.thumbPath,"data-type":"item.type","data-src":"item.src",eventid:"47c563ab-8-"+i},on:{tap:function(a){t.imageClick(e.type,e.src)}}}),"video"==e.type?a("view",{staticClass:"weui-badge q-badge"},[t._v("视频")]):t._e()])])}))],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"q-tip"},[t._v("本场录制"),a("text",{staticClass:"q-intro"},[t._v("点击可回放")])])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o})},"19ea":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{devicePosition:"front",flash:"auto",devicePositions:[{name:"后置",value:"back"},{name:"前置",value:"front",checked:"true"}],flashs:[{name:"自动",value:"auto",checked:"true"},{name:"打开",value:"on"},{name:"关闭",value:"off"}],isTakePhoto:!0,recordState:0,dataList:[],toView:""}},methods:{takePhoto:function(){var t=this,e=wx.createCameraContext();e.takePhoto({quality:"high",success:function(e){var a={type:"image",thumbPath:e.tempImagePath,src:e.tempImagePath},i=t.dataList,o="image"+(i.length-1);i.push(a),t.setData({dataList:i,toView:o,test:e.tempImagePath}),console.log(i,"image"+(i.length-1))}})},deviceRadioChange:function(t){var e=this,a=t.detail.value;e.setData({devicePosition:a})},flashRadioChange:function(t){var e=this,a=t.detail.value;e.setData({flash:a})},switchChange:function(t){var e=this,a=t.detail.value;e.setData({isTakePhoto:!a})},moduleRadioChange:function(){this.setData({isTakePhoto:!this.isTakePhoto})},recordVideo:function(t){var e=this,a=wx.createCameraContext(this);e.setData({recordState:1}),a.startRecord({success:function(t){console.log(t)},timeoutCallback:function(t){e.setData({recordState:2});var a={type:"video",thumbPath:t.tempThumbPath,src:t.tempVideoPath},i=e.dataList;i.push(a),e.setData({dataList:i})}})},stopRecord:function(t){var e=this,a=wx.createCameraContext(this);e.setData({recordState:2}),a.stopRecord({success:function(t){var a={type:"video",thumbPath:t.tempThumbPath,src:t.tempVideoPath},i=e.dataList;i.push(a),e.setData({dataList:i})}})},reRecord:function(){},imageClick:function(t,e){"image"==t?wx.previewImage({current:e,urls:[e],success:function(t){},fail:function(t){},complete:function(t){}}):"video"==t&&wx.navigateTo({url:"./play/play?src="+e,success:function(t){},fail:function(t){},complete:function(t){}})}}};e.default=i},"20fb":function(t,e,a){"use strict";a("0460");var i=s(a("b0ce")),o=s(a("4d37"));function s(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(o.default))},3286:function(t,e,a){"use strict";a.r(e);var i=a("19ea"),o=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=o.a},"4d37":function(t,e,a){"use strict";a.r(e);var i=a("111b"),o=a("3286");for(var s in o)"default"!==s&&function(t){a.d(e,t,function(){return o[t]})}(s);a("5ccf");var c=a("2877"),n=Object(c["a"])(o["default"],i["a"],i["b"],!1,null,"0840634a",null);e["default"]=n.exports},"5ccf":function(t,e,a){"use strict";var i=a("aa93"),o=a.n(i);o.a},aa93:function(t,e,a){}},[["20fb","common/runtime","common/vendor"]]]);